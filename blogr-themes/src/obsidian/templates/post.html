{% extends "base.html" %} {% block title %}{{ post.metadata.title }} - {{
site.blog.title }}{% endblock %} {% block meta %}
<meta
    name="description"
    content="{{ post.metadata.description | default(value=post.metadata.title) }}"
/>
<meta
    name="author"
    content="{{ post.metadata.author | default(value=site.blog.author) }}"
/>
<meta name="published" content="{{ post.metadata.date }}" />
{% if post.metadata.tags %}
<meta name="keywords" content="{{ post.metadata.tags | join(sep=', ') }}" />
{% endif %} {% endblock %} {% block content %}
<div class="markdown-preview-sizer markdown-preview-section">
    <!-- Obsidian-style navigation -->
    <div class="nav-header">
        <div class="nav-buttons-container">
            <a
                href="{{ url(path='') | safe }}"
                class="nav-action-button"
                aria-label="Back to home"
            >
                <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                >
                    <path d="m12 19-7-7 7-7" />
                    <path d="M19 12H5" />
                </svg>
                Home
            </a>
        </div>
    </div>

    <!-- Post title in Obsidian style -->
    <div
        class="inline-title"
        contenteditable="false"
        spellcheck="false"
        tabindex="-1"
        enterkeyhint="done"
    >
        {{ post.metadata.title }}
    </div>

    <!-- Post metadata in callout format -->
    {% if post.metadata.description %}
    <div class="callout" data-callout="abstract">
        <div class="callout-title">
            <div class="callout-icon">
                <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                >
                    <path
                        d="M14.828 14.828a4 4 0 0 1-5.656 0M9 10h1m4 0h1m-6 4h8m-4-8V4m0 2v2"
                    />
                </svg>
            </div>
            <div class="callout-title-inner">Abstract</div>
        </div>
        <div class="callout-content">
            <p>{{ post.metadata.description }}</p>
        </div>
    </div>
    {% endif %}

    <!-- Metadata bar -->
    <div class="metadata-container">
        <div class="frontmatter">
            <div class="frontmatter-container">
                <div class="frontmatter-section">
                    <div class="frontmatter-alias-list">
                        <div class="frontmatter-alias">
                            <span class="frontmatter-alias-icon">ðŸ“…</span>
                            <time datetime="{{ post.metadata.date }}"
                                >{{ post.metadata.date }}</time
                            >
                        </div>
                        {% if post.metadata.author %}
                        <div class="frontmatter-alias">
                            <span class="frontmatter-alias-icon">ðŸ‘¤</span>
                            <span>{{ post.metadata.author }}</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tags in Obsidian style -->
    {% if post.metadata.tags %}
    <div class="tag-container">
        {% for tag in post.metadata.tags %}
        <a
            class="tag"
            href="{{ url(path='tags/' ~ tag ~ '.html') }}"
            target="_blank"
            rel="noopener"
        >
            <span class="tag-name">#{{ tag }}</span>
        </a>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Post content with Obsidian editor styling -->
    <div class="mod-cm6 is-readable-line-width">
        <div class="cm-editor">
            <div class="cm-scroller">
                <div
                    class="cm-content"
                    contenteditable="false"
                    style="tab-size: 4"
                >
                    {{ content | safe }}
                </div>
            </div>
        </div>
    </div>

    <!-- Obsidian-style backlinks section -->
    <div class="backlink-pane">
        <div class="tree-item-self nav-folder-title">
            <div class="tree-item-inner nav-folder-title-content">Related</div>
        </div>
        <div class="search-result-container">
            <div class="search-result-file-matches">
                <div class="search-result-file-title">
                    <a
                        href="{{ url(path='archive.html') | safe }}"
                        class="internal-link"
                        >All Posts</a
                    >
                </div>
                {% if post.metadata.tags %} {% for tag in post.metadata.tags %}
                <div class="search-result-file-title">
                    <a
                        href="{{ url(path='tags/' ~ tag ~ '.html') | safe }}"
                        class="internal-link"
                        >Posts tagged #{{ tag }}</a
                    >
                </div>
                {% endfor %} {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
