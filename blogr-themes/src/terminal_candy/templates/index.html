{% extends "base.html" %}

{% block title %}{{ site.blog.title }}{% endblock %}

{% block content %}
<div class="post-list">
    {% if posts %}
        {% for post in posts %}
        <article class="post-item">
            <h2 class="post-title">
                <a href="{{ url(path='posts/' ~ post.metadata.slug ~ '.html') | safe }}">{{ post.metadata.title }}</a>
            </h2>

            <div class="post-meta">
                {{ post.metadata.date | date(format="%Y-%m-%d") }}
                {% if post.metadata.author %}
                | by {{ post.metadata.author }}
                {% endif %}
                {% if post.reading_time %}
                | {{ post.reading_time }} min read
                {% endif %}
            </div>

            {% if post.metadata.description %}
            <p class="post-excerpt">{{ post.metadata.description }}</p>
            {% endif %}

            {% if post.metadata.tags %}
            <div class="post-tags">
                {% for tag in post.metadata.tags %}
                <a href="{{ url(path='tags/' ~ tag ~ '.html') | safe }}" class="tag">{{ tag }}</a>
                {% endfor %}
            </div>
            {% endif %}
        </article>
        {% endfor %}
    {% else %}
    <div class="empty-state">
        <pre class="ascii-art">
 _   _         ____            _
| \ | | ___   |  _ \ ___  __ _| |_ ___
|  \| |/ _ \  | |_) / _ \/ _` | __/ __|
| |\  | (_) | |  __/ (_) \__,_| |_\__ \
|_| \_|\___/  |_|   \___/|___(_)__|___/
        </pre>
        <p style="text-align: center; color: var(--color-text-dim); margin-top: var(--spacing-md);">
            $ blogr new "Your First Post"
        </p>
    </div>
    {% endif %}
</div>

<!-- Newsletter subscription -->
{% if newsletter.enabled and newsletter_form %}
<section class="newsletter-section" style="margin-top: var(--spacing-xl); padding: var(--spacing-lg); border: var(--border-width) solid var(--color-yellow); border-radius: var(--border-radius); background-color: var(--color-bg-light);">
    {{ newsletter_form | safe }}
</section>
{% endif %}
{% endblock %}
